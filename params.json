{"name":"Capistrano-unicorn","tagline":"Unicorn specific tasks for Capistrano","body":"Installation\r\n------------\r\n\r\n1. Add Capistrano Unicorn to your Gemfile:\r\n\r\n    ```ruby\r\n    group :deployment\r\n      gem 'capistrano-unicorn', github: 'bitcoveries/capistrano-unicorn', require: false\r\n    end\r\n    ```\r\n\r\n2. Run `bundle` to install all dependencies with [Bundler]\r\n\r\nUsage\r\n-----\r\n\r\nRequire Capistrano Unicorn to your Capfile:\r\n\r\n```ruby\r\nrequire 'capistrano/unicorn'\r\n```\r\n\r\nInvoke Unicorn from your `config/deploy.rb` or `config/deploy/<ENVIRONMENT>.rb`:\r\n\r\nIf `preload_app:true` use:\r\n\r\n```ruby\r\nafter 'deploy:publishing', 'deploy:restart'\r\nnamespace :deploy do\r\n  task :restart do\r\n    invoke 'unicorn:restart'\r\n  end\r\nend\r\n```\r\n\r\nIf `preload_app:true` and you need Capistrano to cleanup your `*.oldbin` PID use:\r\n\r\n```ruby\r\nafter 'deploy:publishing', 'deploy:restart'\r\nnamespace :deploy do\r\n  task :restart do\r\n    invoke 'unicorn:legacy_restart'\r\n  end\r\nend\r\n```\r\n\r\nOtherwise use:\r\n\r\n```ruby\r\nafter 'deploy:publishing', 'deploy:restart'\r\nnamespace :deploy do\r\n  task :restart do\r\n    invoke 'unicorn:reload'\r\n  end\r\nend\r\n```\r\n\r\n> Note that presently you must put the `invoke` outside any `on` block since the task handles this for you; otherwise\r\n> you will get an `undefined method 'verbosity'` error.*\r\n\r\nEnsure that the `unicorn_pid` directory has been added to `linked_dirs` setting. Otherwise Unicorn workers will not\r\nbe properly killed/restarted.\r\n\r\nDevelopment\r\n-----------\r\n\r\n### Run specs with [RSpec]\r\n\r\nRun `rspec`.\r\n\r\nor via [Guard]:\r\n\r\n```\r\n$ guard -g spec\r\n```\r\n\r\n### Run [RuboCop]\r\n\r\nRun `rubocop`.\r\n\r\nTo run all specs and RuboCop altogether, run `rake`.\r\n\r\nCode Status\r\n-----------\r\n\r\n[![Gemnasium Status][Gemnasium Status]][Gemnasium]\r\n\r\nBug Reports\r\n-----------\r\n\r\nGithub Issues are used for managing bug reports and feature requests. If you run into issues, please search the issues\r\nand submit new problems [here].\r\n\r\nCredits\r\n-------\r\n\r\nCapistrano Unicorn is heavily inspired by [sosedoff/capistrano-unicorn].\r\n\r\nLicense\r\n-------\r\n\r\nCapistrano Unicorn is released under the [MIT License (MIT)], see [LICENSE].\r\n\r\n[Bundler]: http://bundler.io \"The best way to manage a Ruby application's gems\"\r\n[Capistrano Unicorn]: https://bitaculous.github.io/capistrano-unicorn/ \"Unicorn specific tasks for Capistrano\"\r\n[Gemnasium]: https://gemnasium.com/bitaculous/capistrano-unicorn \"Capistrano Unicorn at Gemnasium\"\r\n[Gemnasium Status]: https://img.shields.io/gemnasium/bitaculous/capistrano-unicorn.svg?style=flat \"Gemnasium Status\"\r\n[Guard]: http://guardgem.org \"A command line tool to easily handle events on file system modifications.\"\r\n[here]: https://github.com/bitaculous/capistrano-unicorn/issues \"Github Issues\"\r\n[LICENSE]: https://raw.githubusercontent.com/bitaculous/capistrano-unicorn/master/LICENSE \"License\"\r\n[MIT License (MIT)]: http://opensource.org/licenses/MIT \"The MIT License (MIT)\"\r\n[RSpec]: http://rspec.info \"Behaviour Driven Development for Ruby\"\r\n[RuboCop]: https://github.com/bbatsov/rubocop \"A Ruby static code analyzer, based on the community Ruby style guide.\"\r\n[sosedoff/capistrano-unicorn]: https://github.com/tablexi/capistrano3-unicorn \"Capistrano3 Unicorn\"","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}